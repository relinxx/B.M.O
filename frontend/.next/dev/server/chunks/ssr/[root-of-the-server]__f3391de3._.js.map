{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/relinxx/Documents/GitHub/B.M.O/frontend/state/bmoState.js"],"sourcesContent":["import { create } from 'zustand'\n\nexport const useBMOState = create((set, get) => ({\n  state: 'IDLE',\n  setState: (newState) => set({ state: newState }),\n  \n  // Convenience methods for state transitions\n  setIdle: () => set({ state: 'IDLE' }),\n  setListening: () => set({ state: 'LISTENING' }),\n  setThinking: () => set({ state: 'THINKING' }),\n  setTalking: () => set({ state: 'TALKING' }),\n  \n  // Get current state\n  getCurrentState: () => get().state,\n  \n  // Check if currently in a specific state\n  isState: (checkState) => get().state === checkState,\n}))\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEO,MAAM,cAAc,IAAA,sKAAM,EAAC,CAAC,KAAK,MAAQ,CAAC;QAC/C,OAAO;QACP,UAAU,CAAC,WAAa,IAAI;gBAAE,OAAO;YAAS;QAE9C,4CAA4C;QAC5C,SAAS,IAAM,IAAI;gBAAE,OAAO;YAAO;QACnC,cAAc,IAAM,IAAI;gBAAE,OAAO;YAAY;QAC7C,aAAa,IAAM,IAAI;gBAAE,OAAO;YAAW;QAC3C,YAAY,IAAM,IAAI;gBAAE,OAAO;YAAU;QAEzC,oBAAoB;QACpB,iBAAiB,IAAM,MAAM,KAAK;QAElC,yCAAyC;QACzC,SAAS,CAAC,aAAe,MAAM,KAAK,KAAK;IAC3C,CAAC"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/relinxx/Documents/GitHub/B.M.O/frontend/components/FacePlane.jsx"],"sourcesContent":["import React from 'react'\nimport { useTexture } from '@react-three/drei'\nimport { useBMOState } from '../state/bmoState'\n\nexport function FacePlane(props) {\n  const state = useBMOState((state) => state.state)\n  \n  const textures = {\n    IDLE: useTexture('/textures/bmo_idle.png'),\n    LISTENING: useTexture('/textures/bmo_listening.png'),\n    THINKING: useTexture('/textures/bmo_thinking.png'),\n    TALKING: useTexture('/textures/bmo_talking.png'),\n  }\n\n  return (\n    <mesh {...props}>\n      <planeGeometry args={[0.6, 0.6]} />\n      <meshBasicMaterial \n        map={textures[state]} \n        transparent \n        toneMapped={false}\n      />\n    </mesh>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;AAEO,SAAS,UAAU,KAAK;IAC7B,MAAM,QAAQ,IAAA,yHAAW,EAAC,CAAC,QAAU,MAAM,KAAK;IAEhD,MAAM,WAAW;QACf,MAAM,IAAA,sNAAU,EAAC;QACjB,WAAW,IAAA,sNAAU,EAAC;QACtB,UAAU,IAAA,sNAAU,EAAC;QACrB,SAAS,IAAA,sNAAU,EAAC;IACtB;IAEA,qBACE,qKAAC;QAAM,GAAG,KAAK;;0BACb,qKAAC;gBAAc,MAAM;oBAAC;oBAAK;iBAAI;;;;;;0BAC/B,qKAAC;gBACC,KAAK,QAAQ,CAAC,MAAM;gBACpB,WAAW;gBACX,YAAY;;;;;;;;;;;;AAIpB"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/relinxx/Documents/GitHub/B.M.O/frontend/components/BMOModel.jsx"],"sourcesContent":["/*\nAuto-generated by: https://github.com/pmndrs/gltfjsx\nCommand: npx gltfjsx@6.5.3 public/gltf/scene.gltf \nAuthor: Drawnah (https://sketchfab.com/EzequielMunoz)\nLicense: CC-BY-4.0 (http://creativecommons.org/licenses/by/4.0/)\nSource: https://sketchfab.com/3d-models/bmo-bab0bf1991d04757954872507c5b1595\nTitle: BMO\n*/\n\nimport React, { useRef } from 'react'\nimport { useGLTF } from '@react-three/drei'\nimport { FacePlane } from './FacePlane'\n\nexport function BMOModel(props) {\n  const { nodes, materials } = useGLTF('/gltf/scene.gltf')\n  const modelRef = useRef()\n  \n  return (\n    <group {...props} ref={modelRef} dispose={null}>\n      <group rotation={[-Math.PI / 2, 0, 0]}>\n        <group rotation={[Math.PI / 2, 0, 0]}>\n          <group position={[5.895, -0.228, -4.424]} rotation={[-0.602, 0.312, 1.605]} scale={1.401}>\n            <mesh geometry={nodes.defaultMaterial_9.geometry} material={materials.M_Skate} />\n            <mesh geometry={nodes.defaultMaterial_10.geometry} material={materials.M_Ruedas} />\n            <mesh geometry={nodes.defaultMaterial_11.geometry} material={materials.M_Ruedas} />\n          </group>\n          <mesh geometry={nodes.defaultMaterial.geometry} material={materials.Mat_Atras} />\n          <mesh geometry={nodes.defaultMaterial_1.geometry} material={materials.Mat_Atras} />\n          <mesh geometry={nodes.defaultMaterial_2.geometry} material={materials.Mat_Atras} />\n          <mesh geometry={nodes.defaultMaterial_3.geometry} material={materials.M_Vidrio} />\n          <mesh geometry={nodes.defaultMaterial_4.geometry} material={materials.M_Piso} />\n          <mesh geometry={nodes.defaultMaterial_5.geometry} material={materials.M_Extremidades} />\n          <mesh geometry={nodes.defaultMaterial_6.geometry} material={materials.M_Extremidades} />\n          <mesh geometry={nodes.defaultMaterial_7.geometry} material={materials.M_Botones} />\n          <mesh geometry={nodes.defaultMaterial_8.geometry} material={materials.M_Cuerpo} />\n        </group>\n      </group>\n      <FacePlane position={[0, 1.2, 0.51]} />\n    </group>\n  )\n}\n\nuseGLTF.preload('/gltf/scene.gltf')\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;AAOA,GAEA;AACA;AACA;;;;;;;;;AAEO,SAAS,SAAS,KAAK;IAC5B,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,IAAA,mNAAO,EAAC;IACrC,MAAM,WAAW,IAAA,6GAAM;IAEvB,qBACE,qKAAC;QAAO,GAAG,KAAK;QAAE,KAAK;QAAU,SAAS;;0BACxC,qKAAC;gBAAM,UAAU;oBAAC,CAAC,KAAK,EAAE,GAAG;oBAAG;oBAAG;iBAAE;0BACnC,cAAA,qKAAC;oBAAM,UAAU;wBAAC,KAAK,EAAE,GAAG;wBAAG;wBAAG;qBAAE;;sCAClC,qKAAC;4BAAM,UAAU;gCAAC;gCAAO,CAAC;gCAAO,CAAC;6BAAM;4BAAE,UAAU;gCAAC,CAAC;gCAAO;gCAAO;6BAAM;4BAAE,OAAO;;8CACjF,qKAAC;oCAAK,UAAU,MAAM,iBAAiB,CAAC,QAAQ;oCAAE,UAAU,UAAU,OAAO;;;;;;8CAC7E,qKAAC;oCAAK,UAAU,MAAM,kBAAkB,CAAC,QAAQ;oCAAE,UAAU,UAAU,QAAQ;;;;;;8CAC/E,qKAAC;oCAAK,UAAU,MAAM,kBAAkB,CAAC,QAAQ;oCAAE,UAAU,UAAU,QAAQ;;;;;;;;;;;;sCAEjF,qKAAC;4BAAK,UAAU,MAAM,eAAe,CAAC,QAAQ;4BAAE,UAAU,UAAU,SAAS;;;;;;sCAC7E,qKAAC;4BAAK,UAAU,MAAM,iBAAiB,CAAC,QAAQ;4BAAE,UAAU,UAAU,SAAS;;;;;;sCAC/E,qKAAC;4BAAK,UAAU,MAAM,iBAAiB,CAAC,QAAQ;4BAAE,UAAU,UAAU,SAAS;;;;;;sCAC/E,qKAAC;4BAAK,UAAU,MAAM,iBAAiB,CAAC,QAAQ;4BAAE,UAAU,UAAU,QAAQ;;;;;;sCAC9E,qKAAC;4BAAK,UAAU,MAAM,iBAAiB,CAAC,QAAQ;4BAAE,UAAU,UAAU,MAAM;;;;;;sCAC5E,qKAAC;4BAAK,UAAU,MAAM,iBAAiB,CAAC,QAAQ;4BAAE,UAAU,UAAU,cAAc;;;;;;sCACpF,qKAAC;4BAAK,UAAU,MAAM,iBAAiB,CAAC,QAAQ;4BAAE,UAAU,UAAU,cAAc;;;;;;sCACpF,qKAAC;4BAAK,UAAU,MAAM,iBAAiB,CAAC,QAAQ;4BAAE,UAAU,UAAU,SAAS;;;;;;sCAC/E,qKAAC;4BAAK,UAAU,MAAM,iBAAiB,CAAC,QAAQ;4BAAE,UAAU,UAAU,QAAQ;;;;;;;;;;;;;;;;;0BAGlF,qKAAC,8HAAS;gBAAC,UAAU;oBAAC;oBAAG;oBAAK;iBAAK;;;;;;;;;;;;AAGzC;AAEA,mNAAO,CAAC,OAAO,CAAC"}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/relinxx/Documents/GitHub/B.M.O/frontend/utils/api.js"],"sourcesContent":["// API utility functions for BMO backend communication\n\nconst API_BASE_URL = 'http://localhost:8001/api'\nconst VOICE_SERVER_URL = 'http://localhost:8000'\n\n// Request timeout configuration\nconst DEFAULT_TIMEOUT = 30000 // 30 seconds\nconst VOICE_TIMEOUT = 60000 // 60 seconds for voice generation\n\nclass APIError extends Error {\n  constructor(message, status, data) {\n    super(message)\n    this.name = 'APIError'\n    this.status = status\n    this.data = data\n  }\n}\n\nasync function fetchWithTimeout(url, options = {}, timeout = DEFAULT_TIMEOUT) {\n  const controller = new AbortController()\n  const timeoutId = setTimeout(() => controller.abort(), timeout)\n\n  try {\n    const response = await fetch(url, {\n      ...options,\n      signal: controller.signal\n    })\n    clearTimeout(timeoutId)\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}))\n      throw new APIError(\n        errorData.detail || `HTTP ${response.status}`,\n        response.status,\n        errorData\n      )\n    }\n\n    return response\n  } catch (error) {\n    clearTimeout(timeoutId)\n    if (error.name === 'AbortError') {\n      throw new APIError('Request timeout', 408)\n    }\n    throw error\n  }\n}\n\nexport const api = {\n  // Speech-to-Text\n  async speechToText(audioBlob) {\n    const formData = new FormData()\n    formData.append('audio_file', audioBlob, 'recording.webm')\n\n    const response = await fetchWithTimeout(`${API_BASE_URL}/stt`, {\n      method: 'POST',\n      body: formData\n    })\n\n    return response.json()\n  },\n\n  // Think/LLM\n  async think(text, conversationId = null, context = null) {\n    console.log('Think API called with:', { text, conversationId, context })\n    try {\n      const response = await fetchWithTimeout(`${API_BASE_URL}/think`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          text,\n          conversation_id: conversationId,\n          context\n        })\n      })\n\n      console.log('Think API response status:', response.status)\n      const result = await response.json()\n      console.log('Think API result:', result)\n      return result\n    } catch (error) {\n      console.error('Think API error:', error)\n      console.error('Error details:', error.message, error.status)\n      // Return a fallback response if the backend fails\n      return {\n        response: \"I'm having trouble thinking right now! Can you try again?\",\n        conversation_id: conversationId || 'fallback',\n        context_used: false\n      }\n    }\n  },\n\n  // Text-to-Speech\n  async speak(text) {\n    try {\n      const response = await fetchWithTimeout(`${API_BASE_URL}/speak`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ text })\n      }, VOICE_TIMEOUT)\n\n      return response.blob()\n    } catch (error) {\n      console.error('Speak API error:', error)\n      // Return empty blob if voice server fails\n      return new Blob()\n    }\n  },\n\n  // Health checks\n  async checkBackendHealth() {\n    try {\n      const response = await fetchWithTimeout(`${API_BASE_URL.replace('/api', '')}/health`, {\n        method: 'GET'\n      })\n      return response.json()\n    } catch (error) {\n      throw new APIError('Backend unavailable', 503)\n    }\n  },\n\n  async checkVoiceServerHealth() {\n    try {\n      const response = await fetchWithTimeout(`${VOICE_SERVER_URL}/health`, {\n        method: 'GET'\n      })\n      return response.json()\n    } catch (error) {\n      throw new APIError('Voice server unavailable', 503)\n    }\n  }\n}\n\nexport { APIError }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 435, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/relinxx/Documents/GitHub/B.M.O/frontend/hooks/useDebounce.js"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nexport function useDebounce(value, delay) {\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS,YAAY,KAAK,EAAE,KAAK;IACtC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,+GAAQ,EAAC;IAErD,IAAA,gHAAS,EAAC;QACR,MAAM,UAAU,WAAW;YACzB,kBAAkB;QACpB,GAAG;QAEH,OAAO;YACL,aAAa;QACf;IACF,GAAG;QAAC;QAAO;KAAM;IAEjB,OAAO;AACT"}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/relinxx/Documents/GitHub/B.M.O/frontend/components/Controls.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react'\nimport { useBMOState } from '../state/bmoState'\nimport { api, APIError } from '../utils/api'\nimport { useDebounce } from '../hooks/useDebounce'\n\nexport function Controls() {\n  const [isRecording, setIsRecording] = useState(false)\n  const [textInput, setTextInput] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState('')\n  const [lastResponse, setLastResponse] = useState('')\n  \n  const debouncedTextInput = useDebounce(textInput, 500)\n  \n  const {\n    setListening,\n    setThinking,\n    setTalking,\n    setIdle,\n    isState\n  } = useBMOState()\n\n  const mediaRecorderRef = useRef(null)\n  const audioChunksRef = useRef([])\n\n  const startRecording = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true })\n      const preferredMimeType = 'audio/webm;codecs=opus'\n      const options = MediaRecorder.isTypeSupported(preferredMimeType)\n        ? { mimeType: preferredMimeType }\n        : undefined\n      const mediaRecorder = new MediaRecorder(stream, options)\n      \n      mediaRecorderRef.current = mediaRecorder\n      audioChunksRef.current = []\n\n      mediaRecorder.ondataavailable = (event) => {\n        audioChunksRef.current.push(event.data)\n      }\n\n      mediaRecorder.onstop = async () => {\n        const mimeType = mediaRecorder.mimeType || 'audio/webm'\n        const audioBlob = new Blob(audioChunksRef.current, { type: mimeType })\n        await processAudio(audioBlob)\n        stream.getTracks().forEach(track => track.stop())\n      }\n\n      mediaRecorder.start()\n      setIsRecording(true)\n      setListening()\n    } catch (error) {\n      console.error('Error accessing microphone:', error)\n      alert('Please allow microphone access to use voice input')\n    }\n  }\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current && isRecording) {\n      mediaRecorderRef.current.stop()\n      setIsRecording(false)\n      setThinking()\n    }\n  }\n\n  const processAudio = async (audioBlob) => {\n    setError('')\n    try {\n      // Send to backend for STT processing\n      const sttResult = await api.speechToText(audioBlob)\n      const transcribedText = sttResult.text\n      \n      if (!transcribedText) {\n        setIdle()\n        return\n      }\n      \n      console.log('Transcribed text:', transcribedText)\n      \n      // Send to LLM for response\n      const thinkResult = await api.think(transcribedText)\n      const responseText = thinkResult.response\n      \n      // Speak the response\n      await speakResponse(responseText)\n      \n    } catch (error) {\n      console.error('Error processing audio:', error)\n      setError(error.message || 'Failed to process audio')\n      setIdle()\n    }\n  }\n\n  const speakResponse = async (text) => {\n    setError('')\n    try {\n      // Call backend TTS endpoint\n      const audioBlob = await api.speak(text)\n      \n      // Check if we got a valid audio blob\n      if (audioBlob.size === 0) {\n        setError('Voice server unavailable - text response only')\n        setLastResponse(text)\n        // Show thinking state for 2 seconds then go to idle\n        setThinking()\n        setTimeout(() => {\n          setIdle()\n          setLastResponse('') // Clear response after showing it\n        }, 2000)\n        return\n      }\n      \n      setTalking()\n      \n      // Create audio from response blob\n      const audioUrl = URL.createObjectURL(audioBlob)\n      const audio = new Audio(audioUrl)\n      \n      audio.onended = () => {\n        URL.revokeObjectURL(audioUrl)\n        setIdle()\n      }\n      \n      audio.onerror = () => {\n        URL.revokeObjectURL(audioUrl)\n        setError('Audio playback failed')\n        setIdle()\n      }\n      \n      await audio.play()\n      \n    } catch (error) {\n      console.error('Error playing audio:', error)\n      setError(error.message || 'Failed to generate speech')\n      setIdle()\n    }\n  }\n\n  const handleTextSubmit = async (e) => {\n    e.preventDefault()\n    if (!textInput.trim()) return\n    \n    setError('')\n    setIsLoading(true)\n    setThinking()\n    \n    try {\n      // Send text to backend for processing\n      const thinkResult = await api.think(textInput)\n      const responseText = thinkResult.response\n      \n      // Speak the response\n      await speakResponse(responseText)\n      setTextInput('')\n      setIsLoading(false)\n      \n    } catch (error) {\n      console.error('Error processing text:', error)\n      setError(error.message || 'Failed to process text')\n      setIdle()\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div style={{\n      position: 'absolute',\n      bottom: 20,\n      left: '50%',\n      transform: 'translateX(-50%)',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      gap: '15px'\n    }}>\n      {/* Voice Input Button */}\n      <button\n        onClick={isRecording ? stopRecording : startRecording}\n        disabled={isLoading}\n        style={{\n          width: '80px',\n          height: '80px',\n          borderRadius: '50%',\n          border: 'none',\n          backgroundColor: isRecording ? '#ef4444' : isLoading ? '#6b7280' : '#10b981',\n          color: 'white',\n          fontSize: '24px',\n          cursor: isLoading ? 'not-allowed' : 'pointer',\n          transition: 'all 0.3s ease',\n          boxShadow: '0 4px 15px rgba(0,0,0,0.3)'\n        }}\n      >\n        {isRecording ? 'üõë' : 'üé§'}\n      </button>\n\n      {/* Text Input */}\n      <form onSubmit={handleTextSubmit} style={{\n        display: 'flex',\n        gap: '10px',\n        background: 'rgba(255,255,255,0.9)',\n        padding: '10px',\n        borderRadius: '25px',\n        boxShadow: '0 4px 15px rgba(0,0,0,0.2)'\n      }}>\n        <input\n          type=\"text\"\n          value={textInput}\n          onChange={(e) => setTextInput(e.target.value)}\n          placeholder=\"Type a message to BMO...\"\n          disabled={isLoading}\n          style={{\n            border: 'none',\n            outline: 'none',\n            padding: '8px 15px',\n            borderRadius: '20px',\n            fontSize: '14px',\n            width: '250px',\n            background: 'transparent'\n          }}\n        />\n        <button\n          type=\"submit\"\n          disabled={isLoading || !textInput.trim()}\n          style={{\n            border: 'none',\n            backgroundColor: isLoading || !textInput.trim() ? '#6b7280' : '#3b82f6',\n            color: 'white',\n            padding: '8px 15px',\n            borderRadius: '20px',\n            cursor: isLoading || !textInput.trim() ? 'not-allowed' : 'pointer',\n            fontSize: '14px'\n          }}\n        >\n          Send\n        </button>\n      </form>\n\n      {/* Response Display */}\n      {lastResponse && (\n        <div style={{\n          fontSize: '14px',\n          color: 'white',\n          background: 'rgba(0,0,0,0.8)',\n          padding: '10px 15px',\n          borderRadius: '15px',\n          maxWidth: '400px',\n          textAlign: 'center',\n          boxShadow: '0 2px 10px rgba(0,0,0,0.3)',\n          fontStyle: 'italic'\n        }}>\n          BMO: \"{lastResponse}\"\n        </div>\n      )}\n\n      {/* Error Display */}\n      {error && (\n        <div style={{\n          fontSize: '12px',\n          color: '#ef4444',\n          background: 'rgba(255,255,255,0.9)',\n          padding: '8px 12px',\n          borderRadius: '15px',\n          maxWidth: '300px',\n          textAlign: 'center',\n          boxShadow: '0 2px 10px rgba(0,0,0,0.2)'\n        }}>\n          {error}\n        </div>\n      )}\n\n      {/* Status Indicator */}\n      <div style={{\n        fontSize: '12px',\n        color: 'white',\n        background: 'rgba(0,0,0,0.7)',\n        padding: '5px 10px',\n        borderRadius: '15px',\n        textShadow: '1px 1px 2px rgba(0,0,0,0.8)'\n      }}>\n        {isRecording ? 'üéôÔ∏è Listening...' : isLoading ? 'ü§î Thinking...' : 'üí¨ Ready'}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 762, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/relinxx/Documents/GitHub/B.M.O/frontend/components/ErrorBoundary.jsx"],"sourcesContent":["import React from 'react'\n\nexport class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { hasError: false, error: null }\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true, error }\n  }\n\n  componentDidCatch(error, errorInfo) {\n    console.error('ErrorBoundary caught an error:', error, errorInfo)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div style={{\n          position: 'fixed',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          background: 'rgba(255, 255, 255, 0.95)',\n          padding: '20px',\n          borderRadius: '10px',\n          textAlign: 'center',\n          boxShadow: '0 4px 20px rgba(0,0,0,0.3)',\n          zIndex: 1000\n        }}>\n          <h2 style={{ color: '#ef4444', marginBottom: '10px' }}>\n            Oops! Something went wrong\n          </h2>\n          <p style={{ color: '#666', marginBottom: '15px' }}>\n            BMO encountered an error. Please refresh the page.\n          </p>\n          <button\n            onClick={() => window.location.reload()}\n            style={{\n              background: '#3b82f6',\n              color: 'white',\n              border: 'none',\n              padding: '10px 20px',\n              borderRadius: '5px',\n              cursor: 'pointer'\n            }}\n          >\n            Refresh Page\n          </button>\n        </div>\n      )\n    }\n\n    return this.props.children\n  }\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEO,MAAM,sBAAsB,8GAAK,CAAC,SAAS;IAChD,YAAY,KAAK,CAAE;QACjB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;YAAO,OAAO;QAAK;IAC9C;IAEA,OAAO,yBAAyB,KAAK,EAAE;QACrC,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEA,kBAAkB,KAAK,EAAE,SAAS,EAAE;QAClC,QAAQ,KAAK,CAAC,kCAAkC,OAAO;IACzD;IAEA,SAAS;QACP,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,qBACE,qKAAC;gBAAI,OAAO;oBACV,UAAU;oBACV,KAAK;oBACL,MAAM;oBACN,WAAW;oBACX,YAAY;oBACZ,SAAS;oBACT,cAAc;oBACd,WAAW;oBACX,WAAW;oBACX,QAAQ;gBACV;;kCACE,qKAAC;wBAAG,OAAO;4BAAE,OAAO;4BAAW,cAAc;wBAAO;kCAAG;;;;;;kCAGvD,qKAAC;wBAAE,OAAO;4BAAE,OAAO;4BAAQ,cAAc;wBAAO;kCAAG;;;;;;kCAGnD,qKAAC;wBACC,SAAS,IAAM,OAAO,QAAQ,CAAC,MAAM;wBACrC,OAAO;4BACL,YAAY;4BACZ,OAAO;4BACP,QAAQ;4BACR,SAAS;4BACT,cAAc;4BACd,QAAQ;wBACV;kCACD;;;;;;;;;;;;QAKP;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF"}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/relinxx/Documents/GitHub/B.M.O/frontend/pages/index.tsx"],"sourcesContent":["import React, { Suspense } from 'react'\nimport { Canvas } from '@react-three/fiber'\nimport { OrbitControls, Environment, PerspectiveCamera } from '@react-three/drei'\nimport { BMOModel } from '../components/BMOModel'\nimport { Controls } from '../components/Controls'\nimport { ErrorBoundary } from '../components/ErrorBoundary'\nimport { useBMOState } from '../state/bmoState'\n\nfunction Scene() {\n  return (\n    <>\n      <PerspectiveCamera makeDefault position={[0, 1.5, 4]} fov={45} />\n      <ambientLight intensity={0.6} />\n      <directionalLight position={[5, 5, 5]} intensity={0.8} />\n      <directionalLight position={[-5, 5, -5]} intensity={0.3} />\n      \n      <Suspense fallback={null}>\n        <BMOModel position={[0, 0, 0]} scale={1} />\n      </Suspense>\n      \n      <OrbitControls \n        enablePan={false}\n        minDistance={2}\n        maxDistance={8}\n        minPolarAngle={Math.PI / 4}\n        maxPolarAngle={Math.PI / 2.5}\n      />\n    </>\n  )\n}\n\nexport default function Home() {\n  const currentState = useBMOState((state) => state.state)\n\n  return (\n    <ErrorBoundary>\n      <div style={{ width: '100vw', height: '100vh', position: 'relative' }}>\n        <Canvas shadows>\n          <Scene />\n        </Canvas>\n        \n        {/* UI Overlay */}\n        <div style={{\n          position: 'absolute',\n          top: 20,\n          left: 20,\n          color: 'white',\n          fontSize: '14px',\n          fontFamily: 'monospace',\n          textShadow: '2px 2px 4px rgba(0,0,0,0.8)',\n          background: 'rgba(0,0,0,0.5)',\n          padding: '10px',\n          borderRadius: '8px'\n        }}>\n          <div>BMO State: {currentState}</div>\n        </div>\n        \n        <ErrorBoundary>\n          <Controls />\n        </ErrorBoundary>\n      </div>\n    </ErrorBoundary>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AAEA,SAAS;IACP,qBACE;;0BACE,qKAAC,6NAAiB;gBAAC,WAAW;gBAAC,UAAU;oBAAC;oBAAG;oBAAK;iBAAE;gBAAE,KAAK;;;;;;0BAC3D,qKAAC;gBAAa,WAAW;;;;;;0BACzB,qKAAC;gBAAiB,UAAU;oBAAC;oBAAG;oBAAG;iBAAE;gBAAE,WAAW;;;;;;0BAClD,qKAAC;gBAAiB,UAAU;oBAAC,CAAC;oBAAG;oBAAG,CAAC;iBAAE;gBAAE,WAAW;;;;;;0BAEpD,qKAAC,+GAAQ;gBAAC,UAAU;0BAClB,cAAA,qKAAC,4HAAQ;oBAAC,UAAU;wBAAC;wBAAG;wBAAG;qBAAE;oBAAE,OAAO;;;;;;;;;;;0BAGxC,qKAAC,yNAAa;gBACZ,WAAW;gBACX,aAAa;gBACb,aAAa;gBACb,eAAe,KAAK,EAAE,GAAG;gBACzB,eAAe,KAAK,EAAE,GAAG;;;;;;;;AAIjC;AAEe,SAAS;IACtB,MAAM,eAAe,IAAA,yHAAW,EAAC,CAAC,QAAU,MAAM,KAAK;IAEvD,qBACE,qKAAC,sIAAa;kBACZ,cAAA,qKAAC;YAAI,OAAO;gBAAE,OAAO;gBAAS,QAAQ;gBAAS,UAAU;YAAW;;8BAClE,qKAAC,qNAAM;oBAAC,OAAO;8BACb,cAAA,qKAAC;;;;;;;;;;8BAIH,qKAAC;oBAAI,OAAO;wBACV,UAAU;wBACV,KAAK;wBACL,MAAM;wBACN,OAAO;wBACP,UAAU;wBACV,YAAY;wBACZ,YAAY;wBACZ,YAAY;wBACZ,SAAS;wBACT,cAAc;oBAChB;8BACE,cAAA,qKAAC;;4BAAI;4BAAY;;;;;;;;;;;;8BAGnB,qKAAC,sIAAa;8BACZ,cAAA,qKAAC,4HAAQ;;;;;;;;;;;;;;;;;;;;;AAKnB"}}]
}